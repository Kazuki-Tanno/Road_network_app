(function(t){function e(e){for(var o,i,c=e[0],s=e[1],u=e[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("8a23"),a=n.n(o);a.a},"3c61":function(t,e,n){"use strict";var o=n("9968"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Header"),n("v-content",[n("router-view")],1)],1)},r=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{attrs:{app:"",elevation:"1",color:"brown lighten-3"}},[n("v-btn",{attrs:{large:"",text:""},on:{click:t.root}},[t._v(" Road Network Maker ")])],1)],1)},c=[],s={methods:{root:function(){this.$router.push("/")}}},u=s,l=n("2877"),p=n("6544"),f=n.n(p),d=n("40dc"),h=n("8336"),m=Object(l["a"])(u,i,c,!1,null,null,null),v=m.exports;f()(m,{VAppBar:d["a"],VBtn:h["a"]});var b={name:"App",components:{Header:v}},w=b,g=(n("034f"),n("7496")),S=n("a75b"),_=Object(l["a"])(w,a,r,!1,null,null,null),y=_.exports;f()(_,{VApp:g["a"],VContent:S["a"]});var k=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" this is home.vue"),n("br"),n("v-file-input",{attrs:{accept:".json, .geojson",label:"File input","small-chips":""},on:{change:t.getFileContent}}),t._v(" "+t._s(t.contents)+" "),n("br"),n("v-btn",{on:{click:t.SendData}},[t._v("データ送信")]),n("v-btn",{on:{click:t.ToMap}},[t._v("Map")]),n("v-btn",{on:{click:t.ShowNet}},[t._v("データをコンソール")]),n("br"),t._v(" "+t._s(t.result)+" ")],1)},j=[],L=(n("d3b7"),n("96cf"),n("1da1")),O=n("bc3a"),P=n.n(O),N={name:"HomePage",data:function(){return{files:[],contents:"",result:""}},created:function(){},computed:{},watch:{},mounted:function(){},methods:{getFileContent:function(t){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.readFileAsync(t);case 3:o=n.sent,e.contents=JSON.parse(o),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},readFileAsync:function(t){return new Promise((function(e,n){var o=new FileReader;o.onload=function(){e(o.result)},o.onerror=n,o.readAsText(t)}))},SendData:function(){var t=this;""===this.contents?alert("入力ファイルを指定してください"):P.a.post("/api/post_geojson",this.contents).then((function(e){t.result=e.data})).catch((function(t){alert("APIサーバと接続できません"),console.log(t)}))},ToMap:function(){this.$router.push({path:"/map"})},ShowNet:function(){console.log(this.$store.state.Network)}}},T=N,V=n("23a7"),M=Object(l["a"])(T,x,j,!1,null,null,null),I=M.exports;f()(M,{VBtn:h["a"],VFileInput:V["a"]});var $=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" this is howto.vue ")])},A=[],F={name:"HomePage",data:function(){return{shop_info:null}},created:function(){},computed:{},watch:{},mounted:function(){},methods:{}},G=F,E=Object(l["a"])(G,$,A,!1,null,null,null),C=E.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-text-field",{attrs:{label:"検索ワード",required:""},model:{value:t.SearchString,callback:function(e){t.SearchString=e},expression:"SearchString"}}),n("v-btn",{on:{click:t.SearchSpot}},[t._v("検索")]),n("v-list",{attrs:{"two-line":!0,dense:""}},[n("v-list-item-group",{attrs:{color:"blown"}},t._l(t.SpotList,(function(e,o){return n("v-list-item",{key:e.id,on:{click:function(e){t.PanMap(t.GetLatLon(o))}}},[n("v-list-item-content",{staticClass:"pa-0"},[n("v-list-item-title",{domProps:{textContent:t._s(e["properties"]["title"])}})],1)],1)})),1)],1),n("br"),n("v-btn",{on:{click:t.MakeGeoJson}},[t._v("Geojson")]),n("v-btn",{on:{click:t.ToHome}},[t._v("ホームへ")]),n("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"map"}})],1)},J=[],B=(n("d81d"),n("860c")),R=n.n(B),U={name:"HomePage",data:function(){return{map:null,SpotList:null,SearchString:"",ExportItems:null,Status:0}},created:function(){},computed:{},watch:{},mounted:function(){this.map=R.a.map("map",{center:R.a.latLng(35.6825,139.752778),zoom:15}).addLayer(R.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png"));var t=(new R.a.FeatureGroup).addTo(this.map);new R.a.Control.Draw({draw:{circle:!1,polyline:!1,marker:!1},edit:{featureGroup:t}}).addTo(this.map);this.map.on("draw:created",(function(e){t.addLayer(e.layer)})),this.ExportItems=t},methods:{SearchSpot:function(){var t=this,e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+this.SearchString;P.a.get(e).then((function(e){t.SpotList=e.data})).catch((function(t){alert("APIサーバと接続できません")}))},GetLatLon:function(t){return this.SpotList[t]["geometry"]["coordinates"]},PanMap:function(t){this.map.panTo(new R.a.LatLng(t[1],t[0]))},MakeGeoJson:function(){var t=this,e=this.ExportItems.toGeoJSON();e["features"].length>0?P.a.post("/api/post_geojson",e).then((function(e){t.Status=e.data["Status"],t.$store.dispatch("UpdateNetwork",e.data["Network"])})).catch((function(t){alert("APIサーバと接続できません")})):alert("geojsonを作成してください")},ToHome:function(){this.$router.push({path:"/"})}}},D=U,q=(n("3c61"),n("8860")),z=n("da13"),K=n("5d23"),Q=n("1baa"),W=n("8654"),X=Object(l["a"])(D,H,J,!1,null,null,null),Y=X.exports;f()(X,{VBtn:h["a"],VList:q["a"],VListItem:z["a"],VListItemContent:K["a"],VListItemGroup:Q["a"],VListItemTitle:K["b"],VTextField:W["a"]}),o["a"].use(k["a"]);var Z=new k["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:I},{path:"/map",name:"map",component:Y},{path:"/howto",name:"howto",component:C}]}),tt=n("2f62");o["a"].use(tt["a"]);var et=new tt["a"].Store({state:{Network:{}},mutations:{UpdateNetwork:function(t,e){t.Network=e}},actions:{UpdateNetwork:function(t,e){t.commit("UpdateNetwork",e)}},modules:{}}),nt=n("f309");o["a"].use(nt["a"]);var ot=new nt["a"]({});o["a"].config.productionTip=!1,new o["a"]({router:Z,store:et,vuetify:ot,render:function(t){return t(y)}}).$mount("#app")},"860c":function(t,e){t.exports=L},"8a23":function(t,e,n){},9968:function(t,e,n){}});
//# sourceMappingURL=app.0b81da93.js.map